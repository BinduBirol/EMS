<div class="content-wrapper">

<section class="content-header">
		<div class="container-fluid">
			<div class="row mb-2">
				<div class="col-sm-6">
					<h1>Admin Login</h1>
				</div>
				<div class="col-sm-6">
					<ol class="breadcrumb float-sm-right">
						<li class="breadcrumb-item"><a href="#">Homes</a></li>
						<li class="breadcrumb-item active">login_as</li>
					</ol>
				</div>
			</div>
		</div>
		<!-- /.container-fluid -->
	</section>
<section class="content">
<div class="card card-info">
              <div class="card-header">
                <h3 class="card-title">Login As</h3>
              </div>
              <!-- /.card-header -->
              <!-- form start -->
              <form th:action="@{/login}" method="post" class="form-horizontal validate-form">
                <div class="card-body">
                
                <div class="row">
                    <div class="col-sm-3">
                      <!-- select -->
                      <div class="form-group">
                        <label>Designation</label>
                        <select class="form-control" required="required" onchange="getUsers(this)"  id="slct_role">
						    <option value="">Select Designation</option>
						    <option th:each="roles : ${roles}" th:value="${roles.id}" th:text="${roles.description}"></option>
					    </select>
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div id="select_users_div" class="form-group">
                        
                      </div>
                      
                    </div>
                    
                     <div class="col-sm-3">
                      <div id="pass_div" class="form-group">
                      <label>Master Password</label>
                        <input readonly="readonly" class="form-control" name="password" type="password" value="BT20030411bt@"/>
                      </div>
                      
                    </div>
                  </div>
                  
                  
                  
                </div>
                <!-- /.card-body -->
                <div class="card-footer"> 
                  <button type="submit" class="btn btn-info float-right">Sign in</button>
                  <button type="submit" class="btn btn-default ">Cancel</button>
                </div>
                <!-- /.card-footer -->
              </form>
            </div>
            </section>
            </div>
            <script th:src="@{/assets/login/js/main.js}"></script>
            <script>
            $("#pass_div").hide();
            	function getUsers(d) {            		
            		
            		$.ajax({
            	        type: 'GET',
            	        url: 'getUsersbyRole',
            	        data: {
            	            'roleid': d.value
            	        },
            	        success: function (data) {
            	            // the next thing you want to do 
            	           /*
            	            var $users_list = $('#users_list');
            	            $users_list.empty();
            	            for (var i = 0; i < data.length; i++) {
            	                $users_list.append('<option id=' + data[i].id + ' value=' + data[i].id + '>' + data[i].username + '</option>');
            	            }*/
            	            $("#select_users_div").html(data);
            	            $("#pass_div").show();
            	            
            	        }
            	    });
					
				}
            
            </script>
          